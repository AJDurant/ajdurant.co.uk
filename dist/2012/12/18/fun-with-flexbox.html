<!doctype html>
<html lang="">
    <head>
        <meta charset="utf-8">
        <title>Fun with Flexbox - AJDurant</title>

        <meta name="description" content="Andy Durant - Computer Scientist, Christian, Software Dev, Web Dev, Student">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Disable tap highlight on IE -->
        <meta name="msapplication-tap-highlight" content="no">

        <!-- Add to homescreen for Chrome on Android -->
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="application-name" content="AJDurant">
        <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16">

        <!-- Add to homescreen for Safari on iOS -->
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-title" content="AJDurant">
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/assets/images/apple-touch-icon-57x57.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/assets/images/apple-touch-icon-114x114.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/assets/images/apple-touch-icon-72x72.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/images/apple-touch-icon-144x144.png">
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/assets/images/apple-touch-icon-120x120.png">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/assets/images/apple-touch-icon-152x152.png">

        <!-- Tile icon for Win8 (144x144 + tile color) -->
        <meta name="msapplication-TileImage" content="/assets/images/mstile-144x144.png">
        <meta name="msapplication-TileColor" content="#2F3BA2">

        <!-- Color the status bar on mobile devices -->
        <meta name="theme-color" content="#2F3BA2">

        <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
        <!--
        <link rel="canonical" href="http://www.example.com/">
        -->

        <!-- Page styles -->

        <link rel="stylesheet" href="assets/styles/vendor.css">

        <link rel="stylesheet" href="assets/styles/site.css">
    </head>
    <body>

    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
              <!-- Title -->
              <span class="mdl-layout-title">Fun with Flexbox - <strong>Andy Durant</strong></span>
              <!-- Add spacer, to align navigation to the right -->
              <div class="mdl-layout-spacer"></div>
              <!-- Navigation. We hide it in small screens. -->
              <nav class="mdl-navigation mdl-layout--large-screen-only">
                <a class="mdl-navigation__link" href="/">Hello</a>
                <a class="mdl-navigation__link" href="/blog.html">Blog</a>
              </nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
          <span class="mdl-layout-title">Andy Durant</span>
          <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="/">Hello</a>
            <a class="mdl-navigation__link" href="/blog.html">Blog</a>
          </nav>
        </div>

        <main class="mdl-layout__content">
            <div class="mdl-grid">
                <!-- Your content goes here -->
                
    <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
    <div class="page-content mdl-color--white mdl-shadow--4dp mdl-cell mdl-cell--8-col">

        <h2>Fun with Flexbox</h2>

        <div class="mdl-color-text--grey-700 meta">
            <span>2012-12-18</span>
            <div class="section-spacer"></div>
            
                <a class="tag" href="/tag/css.html">css</a>
            
                <a class="tag" href="/tag/flexbox.html">flexbox</a>
            
        </div>
        <p>
            <p>In the course of the past few days I have discovered parts of CSS that I never knew existed, but have often wished did in some form or another. Amongst these is the calc() function which lets you calculate values for properties, such as calc(100% - 3em).</p>
<p>The one I&#39;m most excited about for the moment is Flexbox or the <a href="http://dev.w3.org/csswg/css3-flexbox/">Flexible Box Layout Model</a>. I first discovered this from <a href="https://twitter.com/paul_irish">Paul Irish</a>, on his <a href="http://www.html5rocks.com/en/tutorials/flexbox/quick/">flexbox tutorial</a> over on html5rocks.com however as warned I soon discovered the issues with the changing spec of flexbox and the many versions implemented (or not implemented) by different browsers.</p>
<p>The issue is as browsers implement moving specification and then it changes drastically so much to break <em>everything</em>. So now there exists the 2009 spec (display: box) which is in quite a few browsers, some mixed up 2011 stuff from a transitionary period which doesn&#39;t exist in browsers but is scattered across the internet in various guides as &#39;how to use the new flexbox&#39; (display: flexbox) and lastly the current implementation (at time of writing) which is implemented (at least partially) in all modern browsers.
<!--more-->
From what I can see there don&#39;t seem to be many guides (if any) that cover the current specification. So mostly for my benefit in any future working with flexible box layout here&#39;s my quick summary of flexbox, I hope it helps anyone else who happens to stumble across my blog.</p>
<h4 id="syntax">Syntax</h4>
<p>The css properties you need are:</p>
<dl>

<dt>display</dt>

<dd>… flex …</dd>

<dd>sets the display mode to flex - this needs to be a wrapper/container for the items.</dd>

<dt>flex</dt>

<dd><flex-grow> <flex-shrink> <flex-basis></dd>

<dd>Shorthand setter for the listed properties. Sets how the items fill the space.</dd>

<dt>flex-grow</dt>

<dd>&gt;number&lt;</dd>

<dd>Flex grow factor. Sets the ratio to grow by compared to the other flex items.</dd>

<dt>flex-shrink</dt>

<dd>&gt;number&lt;</dd>

<dd>Flex shrink factor. Sets the ratio to shrink by compared to the other flex items.</dd>

<dt>flex-basis</dt>

<dd><width></dd>

<dd>Like width, sets the main size before the free space is distributed according to grow &amp; shrink</dd>

<dt>flex-flow</dt>

<dd><flex-direction> <flex-wrap></dd>

<dd>Shorthand setter for the listed properties. Sets how the items are laid out.</dd>

<dt>flex-direction</dt>

<dd><strong>row</strong> | row-reverse | column | column-reverse</dd>

<dd>How the items are laid out horizontal, vertical or reverse ordered.</dd>

<dt>flex-wrap</dt>

<dd><strong>nowrap</strong> | wrap | wrap-reverse</dd>

<dd>Selects if all items have to be on a single line, or multiple lines are allowed.</dd>

<dt>justify-content</dt>

<dd><strong>flex-start</strong> | flex-end | center | space-between | space-around</dd>

<dd>How items are distributed in space, only effective when flex factors are not set as it&#39;s calculated afterwards. Affects alignment on the main axis.</dd>

<dt>align-content</dt>

<dd>flex-start | flex-end | center | space-between | space-around | <strong>stretch</strong></dd>

<dd>How items are distributed in space, only effective on multiline (flex-wrap). Affects positioning on the cross axis.</dd>

<dt>align-items</dt>

<dd>flex-start | flex-end | center | baseline | <strong>stretch</strong></dd>

<dd>Same as justify-content but in the perpendicular axis. Affects alignment on the cross axis.</dd>

<dt>align-self</dt>

<dd><strong>auto</strong> | flex-start | flex-end | center | baseline | stretch</dd>

<dd>Same as align-items, but this is set on the individual items. Affects alignment on the cross axis.</dd>

<dt>order</dt>

<dd>&gt;integer&lt;</dd>

<dd>The display order for the items. Laid out in ascending order, unless reverse is set in the direction.</dd>

</dl>

<p>For making this all work in Chrome (and other webkits - though they are not fully compatible yet) the <code>-webkit-</code> prefix needs to be added to all the properties, other than display which needs it added to the value ie. <code>display: -webkit-flex;</code></p>
<p>And then I got to firefox which &#39;supports&#39; it. Or rather it will support it in version 20 (stable at time of writing is 17, Dev/Aurora is 19). In 18 and 19 it can be enabled by changing the flag <code>layout.css.flexbox.enabled</code> to true and even then only single line is supported.</p>
<h4 id="making-my-layout">Making my layout</h4>
<p>So the project I&#39;m working on that brought this flexboxing all about needs a header/footer with left, right &amp; centre, and centred content that always stays in those relative positions no matter what the display size is. This is why flexbox is ideal in my situation, however I would say building an entire website structure from flexbox for the majority of applications is probably not a good idea. The best layout model is probably CSS Grid, however as no browser has got round to implementing it yet, that wil have to wait.</p>
<p><img src="https://38.media.tumblr.com/9347825c08596eda0b1dceb785a9222d/tumblr_inline_mf8dqtMv0f1rnzreh.png" alt=""></p>
<p>My standard method for doing such a layout would be floats, however I wanted to give this a go. So taking my code:</p>
<pre class="brush: html"><header class="box">
<div class="left">
<div class="centre">
<div class="right">
</header>
</pre>

<p>I made my CSS:</p>
<pre class="brush: css">.box {
    display: -webkit-flex;
    -webkit-flex-flow: row;
    -webkit-justify-content: space-between;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
}
.box > * {
    -webkit-flex: auto;
    flex: auto;
}
.left {
    text-align: left;
}
.centre {
    text-align: center;
}
.right {
    text-align: right;
}
</pre>

<p>My <code>flex-flow</code> and <code>flex</code> lines are a bit extraneous, but particularly whilst I&#39;m developing I like to set things manually do I know what&#39;s going on. Also using <code>flex</code> means that each flex item fills out its space, rather than just sitting in position.</p>
<p>This works for creating the header and footer how I want them, but to get the main content right in the middle more work needed to be done. <del>Time to add a wrapper div (OH no!) as unfortunately you get some weird things happening if you try to use the body as a flex item container.</del> Actually having just done it, you can use the body to wrap flex items, so all is good =) My page structure has <code>&lt;header&gt; &lt;section&gt; &lt;footer&gt;</code> so each of those becomes a flex item in its own right, this time vertically in a column and the section element gets aligned centrally. My full css is:</p>
<pre class="brush: css">.box {
    display: -webkit-flex;
    -webkit-flex-flow: row;
    -webkit-justify-content: space-between;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
}
.vbox {
    display: -webkit-flex;
    -webkit-flex-flow: column;
    -webkit-justify-content: space-between;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.box > * {
    -webkit-flex: auto;
    flex: auto;
}

#display section {
    -webkit-align-self: center;
    align-self: center;
}

.left {
    text-align: left;
}
.centre {
    text-align: center;
}
.right {
    text-align: right;
}
</pre>

<p>with .vbox and #display applied to the body for this page layout.</p>
<p>And that&#39;s about all for now, coming soon: WebSockets</p>

        </p>
        <div class="clearfix"></div>

        <aside>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'ajdurant'; // required: replace example with your forum shortname
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </aside>
    </div>

            </div>

            <div class="mdl-layout-spacer"></div>

            <footer class="mdl-mini-footer">
                <div class="mdl-mini-footer__left-section">
                    <div class="mdl-logo">Andy Durant</div>
                    <ul class="mdl-mini-footer__link-list">
                        <li><a href="#"></a></li>
                    </ul>
                </div>
                <div class="mdl-mini-footer__right-section">
                    <button class="mdl-mini-footer__social-btn social-btn">
                        <a href="https://github.com/AJDurant">
                            <i class="fa fa-github fa-2x"></i>
                            <span class="visuallyhidden">Github</span>
                        </a>
                    </button>
                    <button class="mdl-mini-footer__social-btn social-btn">
                        <a href="https://uk.linkedin.com/in/andydurant">
                            <i class="fa fa-linkedin fa-2x"></i>
                            <span class="visuallyhidden">Linkedin</span>
                        </a>
                    </button>
                    <button class="mdl-mini-footer__social-btn social-btn">
                        <a href="https://twitter.com/andydurant">
                            <i class="fa fa-twitter fa-2x"></i>
                            <span class="visuallyhidden">Twitter</span>
                        </a>
                    </button>
                </div>
            </footer>
        </main>

    </div>
        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID -->
        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
          ga('create', 'UA-27946742-1', 'auto');
          ga('send', 'pageview');
        </script>

        <script src="assets/scripts/vendor.js"></script>

        